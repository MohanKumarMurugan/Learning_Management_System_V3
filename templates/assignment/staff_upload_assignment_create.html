{% extends 'teacher/teacherbase.html' %}

{% block content %}
<div class="flex justify-center">
  <div class="bg-white shadow-md rounded-md p-6">
    <h1 class="text-2xl font-bold">Datas: {{ title }}</h1>
  
    <h3 class="text-lg">Subject: {{ data.subject }}</h3>
 
    <h3 class="text-lg">Class id: {{ data.class_id }}</h3>
 
    <h3 class="text-lg">Update by: {{ data.update_by }}</h3>
 
    <h3 class="text-lg">Date: {{ data.date }}</h3>
  </div>
</div>

{% if mark %}
  <div class="flex justify-center mt-4">
    <div class="bg-white shadow-md rounded-md p-6">
      <h4 class="text-lg">Mark: {{ mark.mark }}</h4>
    </div>
  </div>
{% else %}
  <div class="flex justify-center mt-4">
    <div class="bg-white shadow-md rounded-md p-6">
      <h4 class="text-lg">Marks are not updated</h4>
    </div>
  </div>
{% endif %}

<div class="flex justify-center mt-4">
  <div class="bg-white shadow-md rounded-md p-6">
    <h4 class="text-lg">{{ data.details }}</h4>
  </div>
</div>

{% if mark %}
  <div class="flex justify-center mt-4"> 
    <div class="bg-white shadow-md rounded-md p-6">
      <form method="POST" action="{% url 'edit_assignment_mark' id=mark.id a_id=state student_id=qst_id class_id=class_id %}">
        {% csrf_token %}
        <input type="number" name="mark" value="{{ mark.mark }}" required class="border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md ml-2">Edit Mark</button>
      </form>
    </div>
  </div>
{% else %}
  <div class="flex justify-center mt-4">
    <div class="bg-white shadow-md rounded-md p-6">
      <form method="POST" action="{% url 'assignment_mark' id=qst_id a_id=state student_id=std class_id=class_id %}">
        {% csrf_token %}
        <input type="number" name="mark" required class="border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md ml-2">Update Mark</button>
      </form>
    </div>
  </div>
{% endif %}

<div class="flex justify-center mt-4">
  <div class="bg-white shadow-md rounded-md p-6">
    {% if file %}
      {% for i in file %}
        <a href="{{ i.File.url }}" class="text-blue-500">{{ i.File }}</a><br>
      {% endfor %}
    {% else %}
      <p>No files exist.</p>
    {% endif %}
  </div>
</div>

{% endblock content %}
