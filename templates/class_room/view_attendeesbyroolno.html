<h1>Attendees for roll no {{ roll_no }}</h1>

<label for="startDate">Start Date:</label>
<input type="date" id="startDate">
<label for="endDate">End Date:</label>
<input type="date" id="endDate">
<table id="attendeesTable">
    <thead>
        <tr>
            <th>Date</th>
            <th>Subject/State</th>
        </tr>
    </thead>
    <tbody>
        {% for attendee in attendees %}
        <tr>
            <td>{{ attendee.Date }}</td>
            <td>{{ attendee.subject_states }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script>
    // Get the start date and end date input elements
    const startDateInput = document.getElementById('startDate');
    const endDateInput = document.getElementById('endDate');

    // Get the attendees table element
    const attendeesTable = document.getElementById('attendeesTable');

    // Add an event listener to the start date and end date inputs
    startDateInput.addEventListener('change', filterAttendeesByDate);
    endDateInput.addEventListener('change', filterAttendeesByDate);

    function filterAttendeesByDate() {
        // Get the selected start date and end date from the input elements
        const startDate = new Date(startDateInput.value);
        const endDate = new Date(endDateInput.value);

        // Loop through the rows of the attendees table
        for (let i = 1; i < attendeesTable.rows.length; i++) {
            const row = attendeesTable.rows[i];
            const dateCell = row.cells[0];
            const date = new Date(dateCell.innerText);

            // If the date is between the selected start date and end date, show the row; otherwise, hide it
            if (date >= startDate && date <= endDate) {
                row.style.display = '';
            } else {
                row.style.display = 'none';
            }
        }
    }
</script>